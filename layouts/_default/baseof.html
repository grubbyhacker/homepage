<!DOCTYPE html>
<html lang="en" charset="utf-8">
<head>
    <script>
      (function() {
        const theme = localStorage.getItem('theme');
        if (theme === 'dark-theme') {
          document.documentElement.classList.add(theme);
        } else {
          document.documentElement.className = '';
        }
      })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Title }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quattrocento&display=swap" rel="stylesheet">

    {{ $scss := resources.Get "scss/main.scss" | toCSS | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $scss.RelPermalink }}" integrity="{{ $scss.Data.Integrity }}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    {{ print "<!-- Debug info only available when HUGO_PARAMS_DEBUG=true -->" | safeHTML }}
    {{ partial "debug/meta-tags.html" .Page }}
    {{ print "<!-- End debug info -->" | safeHTML -}}
  </head>
<body class="loading">
  <div class="grid-container">
    {{ $users := .Site.Params.names | default (slice) }}

    {{ if or .IsHome (not (in $users .Section)) }}
      {{ partial "header/home-header.html" . }}
    {{ else }}
      {{ partial "header/section-header.html" . }}
    {{ end }}

    <div class="content">
      {{ partial "debug/printf.html" . }}
      {{ block "content" . }}{{ end }}
    </div>
    {{ partial "footer.html" . }}
  </div>
</body>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.body.classList.remove('loading');
  });
</script>
</html>
