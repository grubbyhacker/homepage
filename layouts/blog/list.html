{{ define "content" }}

<div class="term">  {{/* reuse the centered container */}}
  <header class="term__header">
    <h1 class="term__title">{{ .Title }}</h1>
    {{ with .Content }}
      <div class="term__intro">{{ . }}</div>
    {{ end }}
  </header>

  <hr class="term__rule"/>

  {{ partial "article-count.html" . }}

  <section class="term__posts">
    {{ range .Pages.ByDate.Reverse }}
      <article class="term-post">
        {{ with .Params.tags }}
          <div class="tag-list tag-list--compact">
            {{ range . }}
              {{ partial "tag-pill.html" . }}
            {{ end }}
          </div>
        {{ end }}

        <div class="post-meta">
          <time class="post-date" datetime="{{ .Date }}">{{ .Date.Format (.Site.Params.dateFormat | default "January 2, 2006") }}</time>
          <span class="post-spacer"></span>
          <span class="post-reading-time">{{ .ReadingTime }} min read</span>
        </div>

        <h2 class="term-post__title">
          <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </h2>

        {{/* Summary/description logic */}}
        {{ $desc := "" }}
        {{ if .Params.description }}
          {{ $desc = .Params.description }}
        {{ else if .Summary }}
          {{ $desc = (.Summary | plainify) }}
        {{ else if .Content }}
          {{ $desc = (.Plain | truncate 180) }}
        {{ end }}
        {{ if $desc }}
          <p class="term-post__desc">{{ $desc }}</p>
        {{ end }}
      </article>
    {{ end }}
  </section>
</div>

{{ end }}
